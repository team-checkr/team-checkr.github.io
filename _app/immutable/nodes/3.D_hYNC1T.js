const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/M_tODZEt.js","../chunks/DavXbj_w.js","../chunks/DGgHjv66.js","../chunks/D6-XlEtG.js"])))=>i.map(i=>d[i]);
import{_ as R}from"../chunks/DavXbj_w.js";import{n as G,a as g,t as I,c as H}from"../chunks/CQGBydWg.js";import{D as K,a3 as U,a4 as W,T as j,a1 as X,a5 as _,a6 as S,u as Y,a as D,Q as L,a7 as rr,a2 as er,a8 as f,g as t,b as tr,$ as ar,R as P,S as w,P as k,a9 as N}from"../chunks/DGgHjv66.js";import{h as sr,s as nr}from"../chunks/W2uRDdWD.js";import{i as O}from"../chunks/CrP6Mcqk.js";import{a as ir,b as or}from"../chunks/BmyH6ysu.js";import{E as fr}from"../chunks/CyO7aZKp.js";import{N as lr}from"../chunks/DKg0ri7i.js";import{r as cr}from"../chunks/CxD82Lhf.js";const pr=[];function ur(r,s=!1){return E(r,new Map,"",pr)}function E(r,s,l,i,n=null){if(typeof r=="object"&&r!==null){var d=s.get(r);if(d!==void 0)return d;if(r instanceof Map)return new Map(r);if(r instanceof Set)return new Set(r);if(K(r)){var e=Array(r.length);s.set(r,e),n!==null&&s.set(n,e);for(var c=0;c<r.length;c+=1){var v=r[c];c in r&&(e[c]=E(v,s,l,i))}return e}if(U(r)===W){e={},s.set(r,e),n!==null&&s.set(n,e);for(var h in r)e[h]=E(r[h],s,l,i);return e}if(r instanceof Date)return structuredClone(r);if(typeof r.toJSON=="function")return E(r.toJSON(),s,l,i,r)}if(r instanceof EventTarget)return r;try{return structuredClone(r)}catch{return r}}var dr=G('<svg><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12.75L11.25 15L15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.75 3.75 0 0 1-1.043 3.296a3.75 3.75 0 0 1-3.296 1.043A3.75 3.75 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.75 3.75 0 0 1-3.296-1.043a3.75 3.75 0 0 1-1.043-3.296A3.75 3.75 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.75 3.75 0 0 1 1.043-3.296a3.75 3.75 0 0 1 3.296-1.043A3.75 3.75 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.75 3.75 0 0 1 3.296 1.043a3.75 3.75 0 0 1 1.043 3.296A3.75 3.75 0 0 1 21 12"></path></svg>');function mr(r,s){const l=cr(s,["$$slots","$$events","$$legacy"]);var i=dr();let n;j(()=>n=ir(i,n,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...l})),g(r,i)}var _r=I('<meta name="description" content="Chip">'),gr=I("The program is <b>fully annotated</b>",1),vr=I("The program is <b><i>not</i> fully annotated</b>",1),hr=I('<!> <div class="relative grid grid-rows-[2fr_auto_auto] overflow-hidden bg-slate-800"><!> <div><span class="font-bold"> </span> <div class="flex-1"></div> <span class="text-xl"><!></span></div></div>',1);function Cr(r,s){X(s,!0);let l=_(`{ true }
if
  false -> skip
fi
{ true }`),i=_(S({parse_error:!1,prelude:"",assertions:[],markers:[],is_fully_annotated:!1})),n=_(S([])),d=_(!1),e=_("idle"),c=_(null);Y(()=>{(async()=>{const{default:p,parse:x}=await R(async()=>{const{default:m,parse:b}=await import("../chunks/SU1yMK8Y.js");return{default:m,parse:b}},[],import.meta.url);await p(),f(c,x,!0)})().catch(console.error)}),D(()=>{if(!t(c))return;f(d,!1);const a=t(c)(t(l));a.parse_error&&f(d,!0),f(i,a,!0)});let v=0;D(()=>{const a=ur(t(i));let p=()=>{};return(async()=>{const m=++v,b=await R(()=>import("../chunks/M_tODZEt.js"),__vite__mapDeps([0,1,2,3]),import.meta.url);f(n,[],!0),f(e,"verifying");let u=!1;for(const o of a.assertions){const{cancel:Q,result:Z}=b.run(o.smt,{prelude:a.prelude});p=Q;const y=await Z;if(y=="cancelled")return;const q=y[y.length-1].trim()==="unsat";if(m!==v){console.info("aborted",m,v,a,y);return}q||(u=!0,f(n,[...tr(()=>t(n)),{severity:"Error",tags:[],message:o.text?o.text:"Verification failed",span:o.span,relatedInformation:[]},...o.related?[{severity:"Info",tags:[],message:o.related[0],span:o.related[1],relatedInformation:[]}]:[]],!0))}u?f(e,"error"):f(e,"verified")})().catch(console.error),()=>{p()}});var h=hr();sr(a=>{var p=_r();ar.title="Chip",g(a,p)});var $=L(h);lr($,{title:"Chip",Icon:mr});var T=P($,2),V=w(T);const F=rr(()=>[...t(i).markers,...t(n)]);fr(V,{get markers(){return t(F)},get value(){return t(l)},set value(a){f(l,a,!0)}});var A=P(V,2),C=w(A),J=w(C,!0);k(C);var M=P(C,4),z=w(M);{var B=a=>{var p=H(),x=L(p);{var m=u=>{var o=gr();N(),g(u,o)},b=u=>{var o=vr();N(),g(u,o)};O(x,u=>{t(i).is_fully_annotated?u(m):u(b,!1)})}g(a,p)};O(z,a=>{!t(d)&&t(e)=="verified"&&a(B)})}k(M),k(A),k(T),j(()=>{or(A,1,`flex items-center p-2 text-2xl text-white transition duration-500 ${(t(d)?"bg-purple-600":{idle:"bg-gray-500",verifying:"bg-yellow-500",verified:"bg-green-500",error:"bg-red-500"}[t(e)])??""}`),nr(J,t(d)?"Parse error":{idle:"Idle",verifying:"Verifying...",verified:"Verified",error:"Verification error"}[t(e)])}),g(r,h),er()}export{Cr as component};
