const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C9PN2J3m.js","./DavXbj_w.js","./DGgHjv66.js","../assets/monaco.CRzseGUX.css","./VkMYVedp.js"])))=>i.map(i=>d[i]);
import{b as M,_ as L}from"./DavXbj_w.js";import{t as I,a as O}from"./CQGBydWg.js";import"./D24vJ8vX.js";import{a1 as B,am as l,an as G,a2 as T,a8 as k,B as m,g as e,e as b,S as H,P}from"./DGgHjv66.js";import{i as R}from"./dKRK4rsL.js";import{p as y,s as S,a as V}from"./CxD82Lhf.js";import{o as x,a as q}from"./KXlUpG9W.js";import{t as z}from"./DKg0ri7i.js";const U="vs-dark",W=!0,$=[{background:"2D2D2D",token:""},{foreground:"999999",token:"comment"},{foreground:"cccccc",token:"keyword.operator.class"},{foreground:"cccccc",token:"constant.other"},{foreground:"cccccc",token:"source.php.embedded.line"},{foreground:"f2777a",token:"variable"},{foreground:"f2777a",token:"support.other.variable"},{foreground:"f2777a",token:"string.other.link"},{foreground:"f2777a",token:"entity.name.tag"},{foreground:"f2777a",token:"entity.other.attribute-name"},{foreground:"f2777a",token:"meta.tag"},{foreground:"f2777a",token:"declaration.tag"},{foreground:"f2777a",token:"markup.deleted.git_gutter"},{foreground:"f99157",token:"constant.numeric"},{foreground:"f99157",token:"constant.language"},{foreground:"f99157",token:"support.constant"},{foreground:"f99157",token:"constant.character"},{foreground:"f99157",token:"variable.parameter"},{foreground:"f99157",token:"punctuation.section.embedded"},{foreground:"f99157",token:"keyword.other.unit"},{foreground:"ffcc66",token:"entity.name.class"},{foreground:"ffcc66",token:"entity.name.type.class"},{foreground:"ffcc66",token:"support.type"},{foreground:"ffcc66",token:"support.class"},{foreground:"99cc99",token:"string"},{foreground:"99cc99",token:"constant.other.symbol"},{foreground:"99cc99",token:"entity.other.inherited-class"},{foreground:"99cc99",token:"markup.heading"},{foreground:"99cc99",token:"markup.inserted.git_gutter"},{foreground:"66cccc",token:"keyword.operator"},{foreground:"66cccc",token:"constant.other.color"},{foreground:"6699cc",token:"entity.name.function"},{foreground:"6699cc",token:"meta.function-call"},{foreground:"6699cc",token:"support.function"},{foreground:"6699cc",token:"keyword.other.special-method"},{foreground:"6699cc",token:"meta.block-level"},{foreground:"6699cc",token:"markup.changed.git_gutter"},{foreground:"cc99cc",token:"keyword"},{foreground:"cc99cc",token:"storage"},{foreground:"cc99cc",token:"storage.type"},{foreground:"cc99cc",token:"entity.name.tag.css"},{foreground:"cdcdcd",background:"f2777a",token:"invalid"},{foreground:"cdcdcd",background:"99cccc",token:"meta.separator"},{foreground:"cdcdcd",background:"cc99cc",token:"invalid.deprecated"},{foreground:"ffffff",token:"markup.inserted.diff"},{foreground:"ffffff",token:"markup.deleted.diff"},{foreground:"ffffff",token:"meta.diff.header.to-file"},{foreground:"ffffff",token:"meta.diff.header.from-file"},{foreground:"718c00",token:"markup.inserted.diff"},{foreground:"718c00",token:"meta.diff.header.to-file"},{foreground:"c82829",token:"markup.deleted.diff"},{foreground:"c82829",token:"meta.diff.header.from-file"},{foreground:"ffffff",background:"4271ae",token:"meta.diff.header.from-file"},{foreground:"ffffff",background:"4271ae",token:"meta.diff.header.to-file"},{foreground:"3e999f",fontStyle:"italic",token:"meta.diff.range"}],j={"editor.foreground":"#CCCCCC","editor.background":"#2D2D2D","editor.selectionBackground":"#515151","editor.lineHighlightBackground":"#393939","editorCursor.foreground":"#CCCCCC","editorWhitespace.foreground":"#6A6A6A"},J={base:U,inherit:W,rules:$,colors:j},K="vs",Q=!0,X=[{background:"FFFFFF",token:""},{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"c82829",token:"markup.deleted.git_gutter"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"718c00",token:"markup.inserted.git_gutter"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"4271ae",token:"markup.changed.git_gutter"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"},{foreground:"ffffff",token:"markup.inserted.diff"},{foreground:"ffffff",token:"markup.deleted.diff"},{foreground:"ffffff",token:"meta.diff.header.to-file"},{foreground:"ffffff",token:"meta.diff.header.from-file"},{background:"718c00",token:"markup.inserted.diff"},{background:"718c00",token:"meta.diff.header.to-file"},{background:"c82829",token:"markup.deleted.diff"},{background:"c82829",token:"meta.diff.header.from-file"},{foreground:"ffffff",background:"4271ae",token:"meta.diff.header.from-file"},{foreground:"ffffff",background:"4271ae",token:"meta.diff.header.to-file"},{foreground:"3e999f",fontStyle:"italic",token:"meta.diff.range"}],Y={"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"},Z={base:K,inherit:Q,rules:X,colors:Y};var ee=I('<div class="relative h-full w-full"><div class="absolute inset-0 overflow-hidden"></div></div>');function ce(N,i){B(i,!1);const[w,F]=S(),_=()=>V(z,"$theme",w);let c=y(i,"value",12,""),s=y(i,"markers",24,()=>[]),g=y(i,"hoveredMarker",12,null),E=y(i,"readOnly",8,!1),f=m(),a=m(),t=m(),p=m();x(()=>{let n;return(async()=>{k(a,(await L(async()=>{const{default:r}=await import("./C9PN2J3m.js").then(u=>u.b);return{default:r}},__vite__mapDeps([0,1,2,3]),import.meta.url)).default);const{GCL_LANGUAGE_ID:d}=await L(async()=>{const{GCL_LANGUAGE_ID:r}=await import("./VkMYVedp.js");return{GCL_LANGUAGE_ID:r}},__vite__mapDeps([4,0,1,2,3]),import.meta.url);e(a).editor.defineTheme("chip-dark",J),e(a).editor.defineTheme("chip-light",Z),k(f,e(a).editor.create(e(p),{fontSize:24,minimap:{enabled:!1},lineNumbers:"on",theme:"chip-dark",scrollBeyondLastLine:!1,language:d,readOnly:E()})),k(t,e(a).editor.createModel(c(),d)),e(f).setModel(e(t)),e(t).onDidChangeContent(()=>{c(e(t).getValue())}),n=new ResizeObserver(()=>e(f).layout()),n.observe(e(p))})(),()=>n==null?void 0:n.disconnect()}),q(()=>{var n,o;(n=e(a))==null||n.editor.getModels().forEach(d=>d.dispose()),(o=e(f))==null||o.dispose()});let h=m(null);l(()=>(e(t),b(c())),()=>{e(t)&&typeof c()=="string"&&e(t).getValue()!=c()&&e(t).setValue(c())}),l(()=>(e(t),e(f)),()=>{e(t)&&k(h,e(f).createDecorationsCollection())}),l(()=>(e(t),e(h),b(s()),e(a)),()=>{if(e(t)&&e(h)){const n=s().map(o=>{var d;return{relatedInformation:(d=o.relatedInformation)==null?void 0:d.map(r=>({resource:e(t).uri,startLineNumber:r.span.startLineNumber,startColumn:r.span.startColumn,endLineNumber:r.span.endLineNumber,endColumn:r.span.endColumn,message:r.message})),tags:(o.tags??[]).map(r=>e(a).MarkerTag[r]),severity:e(a).MarkerSeverity[o.severity],message:o.message.split(`
`)[0],startLineNumber:o.span.startLineNumber,startColumn:o.span.startColumn,endLineNumber:o.span.endLineNumber,endColumn:o.span.endColumn}});e(a).editor.setModelMarkers(e(t),"gcl",n),e(h).set(s().map(o=>({options:{hoverMessage:{value:o.message.split(`
`).slice(1).join(`
`),supportHtml:!0,isTrusted:!0}},range:{startLineNumber:o.span.startLineNumber,startColumn:o.span.startColumn,endLineNumber:o.span.endLineNumber,endColumn:o.span.endColumn}})))}}),l(()=>(e(f),_()),()=>{e(f)&&e(f).updateOptions({theme:_()=="dark"?"chip-dark":"chip-light"})}),l(()=>(e(f),e(a),b(s()),b(g())),()=>{e(f)&&e(a).languages.registerHoverProvider("gcl",{provideHover(n,o,d){const r=s().findIndex(u=>{const{column:C,lineNumber:D}=o;if(u.span.startLineNumber<=D&&u.span.endLineNumber>=D&&u.span.startColumn<=C&&u.span.endColumn>=C)return!0});if(r>=0){g(r);const u=setInterval(()=>{if(g()!=r){clearInterval(u);return}d.isCancellationRequested&&(g(null),clearInterval(u))},1e3)}else g(null);return d.onCancellationRequested(()=>{console.log("cancel")}),null}})}),G(),R();var v=ee(),A=H(v);M(A,n=>k(p,n),()=>e(p)),P(v),O(N,v),T(),F()}export{ce as E};
